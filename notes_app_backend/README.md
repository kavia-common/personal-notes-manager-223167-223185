# Notes App Backend (Flask)

A minimal, production-ready Flask REST API for personal notes with CRUD operations, SQLite persistence via SQLAlchemy, pagination, validation, CORS, and OpenAPI docs.

- API Docs: /docs (Swagger UI)
- Health: GET /
- Notes endpoints:
  - POST /notes
  - GET /notes
  - GET /notes/<id>
  - PUT /notes/<id>
  - DELETE /notes/<id>

Environment
- DATABASE_URL (optional): SQLAlchemy database URL. Defaults to sqlite:///notes.db
- The service falls back to in-memory storage if the DB or filesystem is unavailable.

Quick start
- Installed dependencies are in requirements.txt; the environment runner handles startup on the preview port.

Curl examples
1) Health
curl -sS http://localhost:3001/ | jq

2) Create a note
curl -sS -X POST http://localhost:3001/notes/ \
  -H "Content-Type: application/json" \
  -d '{"title":"First Note","content":"Hello"}' | jq

3) List notes (pagination)
curl -sS "http://localhost:3001/notes/?page=1&page_size=10" | jq

4) Get by ID
curl -sS http://localhost:3001/notes/1 | jq

5) Update
curl -sS -X PUT http://localhost:3001/notes/1 \
  -H "Content-Type: application/json" \
  -d '{"title":"Updated","content":"New content"}' | jq

6) Delete
curl -sS -X DELETE -i http://localhost:3001/notes/1

Validation rules
- title is required and must be a non-empty string on create.
- On update, title must be non-empty if provided. content is optional.

Responses
- 201 on create, 200 on success, 204 on delete, 400/404 on errors.
- Errors return JSON: { code, status, message }.

OpenAPI
- Swagger UI available at /docs
- OpenAPI JSON at /openapi.json (auto-generated by flask-smorest)

CORS
- Enabled for all origins by default (adjust via environment if needed).

```env
# .env.example
DATABASE_URL=sqlite:///notes.db
```
